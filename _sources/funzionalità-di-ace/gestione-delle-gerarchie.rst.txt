Gestione delle Gerarchie
========================

Per gestione delle Gerarchia si intende l’organizzazione delle Entità
Organizzative secondo una ‘vista gerarchica’ con una tipologia
predefinita.

Le gerarchie già identificate e ‘ufficiali’ al momento sono:

-  **Struttura scientifica**. Rappresenta l’organizzazione attuale dei
   dipartimenti, Istituti e Sedi secondarie con la quale opera la
   struttura scientifica del CNR. Questa gerarchia ospita anche le AREE
   di Ricerca poste non in gerarchia ma allo stesso livello dei
   Dipartimenti.

-  **Amministrazione Centrale**. Rappresenta l’organizzazione degli
   Uffici della Sede Centrale come da organigramma attuale del CNR.

-  **Rappresentanza Sindacale Unitaria**. Rappresenta l’organizzazione
   delle RSU dislocate su tutto il territorio nazionale, alle quali
   afferiscono tutte le sedi del CNR. La gerarchia RSU viene definita in
   genere ogni tre anni ed eventualmente modificata anche nel corso del
   triennio di validità magari per chiusura/apertura di una nuova sede
   RSU o per modifica assegnazione sede CNR a sede RSU.

Mentre la gerarchia relativa alla Struttura Scientifica e quella
relativa all’Amministrazione Centrale vengono gestite dallo stesso
ufficio (gestione Sedi), la gerarchia RSU viene gestita dall’ufficio
Relazioni Sindacali.

**Abilitazioni previste per le Sedi**

**L’ufficio Gestione Sedi** è abilitato, come specificato anche nel
paragrafo relativo alle Sedi, a gestire le entità organizzative
appartenenti alla categoria sedi.

In ogni caso l’utente potrà:

-  Cercare una sede per visualizzarla o modificarla, oltre che
   dall’anagrafica delle entità organizzative, anche direttamente dalla
   gerarchia a cui risulta assegnata. L’albero della gerarchia viene
   aperto per mostrare i dettagli evidenziati che rispondono alla
   ricerca effettuata. Nelle gerarchie Amministrativa e Scientifica è
   consentito solo creare sedi nella medesima tipologia.

-  Creare una nuova Sede;

-  Modificare una Sede esistente (sempre tra quelle modificabili);

-  Annullare una Sede (specificando data fine validità dell’entità
   organizzativa);

-  Gestire le associazioni delle sedi alle gerarchie (data inizio e fine
   associazione alla gerarchia).

**L’ufficio RSU** è abilitato a:

-  Inserire o modificare una sede di tipo ‘RSU’ (gestione gerarchia
   ‘RSU’);

-  Gestire la gerarchia RSU (associando le sedi Amministrative e
   Scientifiche alla rispettiva sede RSU);

-  Indicare tra le sedi CNR associate ad una sede RSU l’istituto guida
   (uno solo per sede RSU, primo livello gerarchia RSU). Informazione
   dell’associazione alla gerarchia e non della Sede stessa.

**La funzione di Gestione Gerarchia,** quindi, consente come prima cosa
di scegliere la gerarchia su cui lavorare (secondo le abilitazioni).
Viene mostrato l’elenco delle sedi in ordine di gerarchia (definito
parametricamente nella Struttura Tipi Entità Organizzative) e secondo i
filtri di ricerca indicati dall’utente. Sulla riga vengono visualizzati
i dati fondamentali (Descrizione della sede, sigla, codice NSIP, data
associazione alla gerarchia) ed è consentito effettuare varie
operazioni:

1. Cercare un’entità organizzativa specifica, indicando nel campo di
   ricerca predisposto, la descrizione oppure il codice NSIP o il codice
   contabile. E’ possibile impostare come filtro di ricerca il Tipo
   Sede);

2. Creare una nuova entità organizzativa e porla nella gerarchia al
   primo livello (funzionalità posta in alto nella mappa);

3. Posizionarsi su un ramo esistente della gerarchia e creare una nuova
   entità organizzativa che sarà posta come ramo figlio rispetto a dove
   si è posizionati;

4. Modificare o visualizzare le unità organizzative navigando nella
   gerarchia e aprendo la funzione di modifica (pulsante posto sul
   dettaglio della gerarchia);

5. Chiudere una sede ponendo in modifica la data fine validità (la sede
   chiusa risulterà tale in tutte le gerarchie in cui è stata inserita);

6. Disassociare la sede dalla specifica gerarchia ponendo in modifica la
   data fine validità sull’associazione Entità Organizzativa alla
   gerarchia (in questo caso la sede non sarà più visibile per la
   gerarchia in questione, ma sarà eventualmente visibile e associabile
   in altre gerarchie);

7. Spostare una sede ponendola in un ramo diverso della gerarchia.
   Questa operazione consiste nel mettere una data fine validità
   sull’associazione della sede al ramo da cui viene tolta e nel creare
   una nuova associazione della sede ad un altro ramo della gerarchia.

8. Inserendo la data di inizio validità e il nuovo ramo padre, è
   possibile in un’unica operazione disassociare l’entità organizzativa
   e associarla al nuovo ramo indicato.

Questa operazione vale solo per la gerarchia su cui si sta lavorando
(nulla cambia per l’anagrafica dell’entità organizzativa);

9.  Visualizzare (o gestire se si hanno le abilitazioni) ruoli associati
    alla sede. Nel caso l’utente fosse abilitato a più contesti potrà
    scegliere nella funzione di visualizzazione/gestione ruoli il
    contesto per il quale filtrare i ruoli, altrimenti in automatico
    saranno mostrati i ruoli dell’unico contesto abilitato;

10. Visualizzare le persone associate alla Sede (per appartenenza
    Sede/UO).

Sulla riga della gerarchia, quindi, è possibile **creare** una nuova
sede (associata automaticamente alla gerarchia stessa), **associare**
una sede già esistente cercandola nella lista delle sedi valide alla
data indicata in alto nella mappa, **modificare** alcune informazioni
della sede o dell’associazione alla gerarchia, **cancellare** una sede
indicando la data fine validità entrando sempre in modifica.

E’ importante tener conto che nel momento in cui viene visualizzata una
gerarchia con tutte le informazioni delle Sedi, bisogna indicare la data
alla quale si desidera gestire la gerarchia stessa.

Questa data (posta tra i filtri di ricerca in alto nella mappa) è
proposta in automatico come la data del giorno (quindi tutte le sedi non
più valide o le associazioni alla gerarchia non più valide non saranno
visibili). Per consultare una situazione precedente bisogna modificare
la data proposta con la data alla quale si desidera consultare la
gerarchia.

La creazione di un Nuovo Istituto è stata semplificata attraverso la
funzionalità ‘Crea Istituto con Sede Principale’ (per la gerarchia
Scientifica).

Questa funzionalità consente di creare contemporaneamente il ramo
‘Istituto’ con entità organizzativa di tipo ‘Istituto’ (livello
gerarchico padre di tutte le sedi dell’Istituto) e la sua sede
principale/secondaria, in un’unica soluzione (mappa unica in cui si
specificano tutti i dati compreso le sedi principali e secondarie). In
questo modo si evita all’utente la ripetizione di alcune informazioni
disposte su tutte le sedi del nuovo Istituto. Questa opzione riguarda
solo la struttura scientifica.

**Funzione di utilità relativa a: Crea Sede copiando da…**

La copia di una sede è utile per creare velocemente una nuova sede
utilizzando i dati di una sede esistente.

Bisogna però tener conto che i dati proposti (Descrizione, descrizione
breve, Sigla, UO, Indirizzo ….) devono essere opportunamente modificati
per la sede che si sta creando. Il codice NSIP, univoco per tutte le
sedi, deve essere specificato dall’utente secondo le regole di
assegnazione. E’ possibile anche contestualmente chiudere la sede da cui
si sta copiando (nel caso in cui ci fosse un cambio denominazione e/o
cambio indirizzo di una sede) ed in tal caso sarà proposta come data di
chiusura il giorno antecedente l’inizio validità della nuova sede. Se si
sceglie di chiudere la sede da cui si copia bisogna tener conto di tutte
le conseguenze indicate per la chiusura di una sede.

La funzione di copia è stata resa disponibile su tutti i rami della
gerarchia parametrizzando l’anagrafica dei Tipi entità organizzative. In
questa anagrafica per ogni Tipo entità organizzativa è possibile
specificare una o più ‘categorie’. La categoria che rende disponibile la
funzione di copia sui rami della gerarchia, per l’entità organizzativa
dello specifico tipo, è: **Livello Padre Sedi**.
